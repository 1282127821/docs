### 心动网络游戏后端评审要点

* 具备容灾能力
	* 单点故障时（例如服务器硬件损毁）不能造成数据丢失
	* 当出现故障进行修复或维护，需要充分的机制例如主从冷热备份恢复等，使宕机时间可控
	* 数据具备缓写机制，避免造成数据库性能瓶颈
	* 具备防雪崩机制

* 使用64bit编译

	具备超过3G内存的管理能力

* 统一的入口网关Gateway

	整体架构支持仅暴露1个公网网关入口，即 1个IP 1个端口（[了解原因](../misc/ddos.md)）。
	要求这个网关在需要时可以水平扩展。可以自己开发网关，
	也可以使用或基于  [心动网络游戏通用网关](https://github.com/xindong/frontd) 

* 使用HTTPDNS或提供类似地址查询服务来确保客户端获得正确所有网络入口IP

	当DNS被污染或其他原因没有及时生效时，使用HTTPDNS或类似方式让客户端获得正确IP

* 所有网络入口提供fallback备用IP

	入口网关提供备用IP（非域名）入口，当原连接域名被攻击时，可以使用备用的位于高防IP上的入口。备用IP固化在客户端，当通过HTTPDNS方式仍无法取到正确域名时，使用备用IP连接。

* 有服务端性能日志

	用于优化负载能力，若版本不稳定可后迅速反应

* 有 CrashDump 和分析能力

* 无可导致全平台无法提供服务的单点故障源

* 具备可靠的压力测试方案并进行充分的测试

#### 安全
* 参考 [心动网络游戏安全评议要点](security.md)
